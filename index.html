<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Free Tools Hub</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet">
  <style>
    * {
      box-sizing: border-box;
    }
    body {
      margin: 0;
      font-family: 'Inter', sans-serif;
      background-color: #121212;
      color: #fff;
    }
    header {
      background-color: #1f1f1f;
      padding: 1rem 2rem;
      text-align: center;
      position: sticky;
      top: 0;
      z-index: 1000;
    }
    header h1 {
      margin: 0;
      font-size: 1.8rem;
    }
    nav {
      display: flex;
      justify-content: center;
      gap: 1rem;
      margin-top: 0.5rem;
      flex-wrap: wrap;
    }
    nav button {
      background: #333;
      border: none;
      color: #fff;
      padding: 0.5rem 1rem;
      cursor: pointer;
      border-radius: 5px;
      transition: background 0.3s;
    }
    nav button:hover {
      background: #555;
    }
    main {
      padding: 2rem;
      max-width: 900px;
      margin: auto;
    }
    section {
      background: #1e1e1e;
      border-radius: 10px;
      padding: 2rem;
      margin-bottom: 3rem;
      box-shadow: 0 0 10px rgba(0,0,0,0.3);
    }
    h2 {
      margin-top: 0;
      color: #00d1b2;
    }
    input, button, textarea, canvas {
      width: 100%;
      max-width: 500px;
      padding: 10px;
      margin: 10px 0;
      border-radius: 5px;
      border: none;
      background: #2c2c2c;
      color: white;
    }
    button {
      background: #00d1b2;
      color: #000;
      font-weight: bold;
      cursor: pointer;
      transition: background 0.3s;
    }
    button:hover {
      background: #00bfa5;
    }
    .download-btn {
      display: inline-block;
      margin-top: 1rem;
      background: #00d1b2;
      color: black;
      text-decoration: none;
      padding: 0.5rem 1rem;
      border-radius: 5px;
    }
    img {
      max-width: 100%;
      border-radius: 5px;
      margin-top: 10px;
    }
  </style>
</head>
<body>
  <header>
    <h1>üõ†Ô∏è Free Tools Hub</h1>
    <nav>
      <button onclick="scrollToTool('pdfTool')">PDF to Images</button>
      <button onclick="scrollToTool('qrTool')">QR Generator</button>
      <button onclick="scrollToTool('ytTool')">YT Thumbnail</button>
      <button onclick="scrollToTool('textTool')">Text Tools</button>
      <button onclick="scrollToTool('imgTool')">Image Compressor</button>
    </nav>
  </header>

  <main>
    <!-- PDF Tool -->
    <section id="pdfTool">
      <h2>üìÑ PDF to Image (All Pages)</h2>
      <input type="file" id="pdfInput" accept="application/pdf" />
      <div id="pdfContainer"></div>
    </section>

    <!-- QR Generator -->
    <section id="qrTool">
      <h2>üîó QR Code Generator</h2>
      <input type="text" id="qrText" placeholder="Enter text or URL" />
      <button onclick="generateQR()">Generate</button>
      <div id="qrcode"></div>
    </section>

    <!-- YouTube Thumbnail -->
    <section id="ytTool">
      <h2>üé• YouTube Thumbnail Downloader</h2>
      <input type="text" id="ytUrl" placeholder="Paste YouTube video URL" />
      <button onclick="getThumbnail()">Get Thumbnail</button>
      <div id="thumbResult"></div>
    </section>

    <!-- Text Tools -->
    <section id="textTool">
      <h2>üìù Word Counter</h2>
      <textarea id="textArea" rows="6" placeholder="Paste or type your content..."></textarea>
      <button onclick="countWords()">Count</button>
      <p id="wordCount"></p>
    </section>

    <!-- Image Compressor (Just UI Placeholder) -->
    <section id="imgTool">
      <h2>üì∑ Image Compressor</h2>
      <p>(Feature coming soon!)</p>
    </section>
  </main>

  <!-- LIBRARIES -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.10.377/pdf.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/qrcode/build/qrcode.min.js"></script>

  <script>
    function scrollToTool(id) {
      document.getElementById(id).scrollIntoView({ behavior: 'smooth' });
    }

    // PDF to All Images
    document.getElementById("pdfInput").addEventListener("change", function (e) {
      const file = e.target.files[0];
      const container = document.getElementById("pdfContainer");
      container.innerHTML = "";
      if (!file) return;
      const reader = new FileReader();
      reader.onload = function () {
        const typedarray = new Uint8Array(this.result);
        pdfjsLib.getDocument(typedarray).promise.then(function (pdf) {
          for (let i = 1; i <= pdf.numPages; i++) {
            pdf.getPage(i).then(function (page) {
              const scale = 1.5;
              const viewport = page.getViewport({ scale });
              const canvas = document.createElement("canvas");
              canvas.width = viewport.width;
              canvas.height = viewport.height;
              const ctx = canvas.getContext("2d");
              page.render({ canvasContext: ctx, viewport: viewport }).promise.then(() => {
                container.appendChild(canvas);
                const link = document.createElement("a");
                link.textContent = `Download Page ${i}`;
                link.className = "download-btn";
                link.href = canvas.toDataURL("image/png");
                link.download = `page-${i}.png`;
                container.appendChild(link);
              });
            });
          }
        });
      };
      reader.readAsArrayBuffer(file);
    });

    // QR Code
    function generateQR() {
      const text = document.getElementById("qrText").value;
      if (!text) return alert("Enter text or URL");
      const container = document.getElementById("qrcode");
      container.innerHTML = "";
      const canvas = document.createElement("canvas");
      QRCode.toCanvas(canvas, text, { width: 200 }, (err) => {
        if (err) return console.error(err);
        container.appendChild(canvas);
        const link = document.createElement("a");
        link.textContent = "Download QR Code";
        link.className = "download-btn";
        link.download = "qrcode.png";
        link.href = canvas.toDataURL("image/png");
        container.appendChild(link);
      });
    }

    // YouTube Thumbnail
    function getThumbnail() {
      const input = document.getElementById("ytUrl").value.trim();
      let videoId = "";
      if (input.includes("youtube.com")) {
        videoId = input.split("v=")[1]?.split("&")[0];
      } else if (input.includes("youtu.be")) {
        videoId = input.split("youtu.be/")[1]?.split("?")[0];
      }
      if (!videoId || videoId.length !== 11) {
        alert("Invalid YouTube URL");
        return;
      }
      const imgUrl = `https://img.youtube.com/vi/${videoId}/maxresdefault.jpg`;
      const result = document.getElementById("thumbResult");
      result.innerHTML = `<img src="${imgUrl}" alt="Thumbnail"/><br>
        <a href="${imgUrl}" class="download-btn" download="thumbnail.jpg">Download Thumbnail</a>`;
    }

    // Word Counter
    function countWords() {
      const text = document.getElementById("textArea").value.trim();
      const wordCount = text ? text.split(/\s+/).length : 0;
      document.getElementById("wordCount").textContent = `Words: ${wordCount}`;
    }
  </script>
</body>
</html>
